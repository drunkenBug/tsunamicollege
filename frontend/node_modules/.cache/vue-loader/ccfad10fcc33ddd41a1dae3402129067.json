{"remainingRequest":"/Users/guiseppe/fun/online/tsunamicollege/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/guiseppe/fun/online/tsunamicollege/frontend/src/views/Test.vue?vue&type=template&id=5b2d5ecc","dependencies":[{"path":"/Users/guiseppe/fun/online/tsunamicollege/frontend/src/views/Test.vue","mtime":1619558640787},{"path":"/Users/guiseppe/fun/online/tsunamicollege/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1616415317878},{"path":"/Users/guiseppe/fun/online/tsunamicollege/frontend/node_modules/babel-loader/lib/index.js","mtime":1616415317834},{"path":"/Users/guiseppe/fun/online/tsunamicollege/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616415319211},{"path":"/Users/guiseppe/fun/online/tsunamicollege/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1616415317878},{"path":"/Users/guiseppe/fun/online/tsunamicollege/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1616415319210}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0idGVzdCI+CiAgICA8aDE+e3t0b3BpY319PC9oMT4KICAgIDxkaXYgdi1pZj0icXVlc3Rpb25zTG9hZGVkIj4KICAgICAgPFF1ZXN0aW9uIDpjb250ZW50PSJxdWVzdGlvbiIgcmVmPSJxdWVzdGlvbiIgQGZhaWxlZD0iZmFpbGVkIiBAc29sdmVkPSJzb2x2ZWQiLz4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0ibmV4dCI+CiAgICAgIDxidXR0b24gY2xhc3M9InRlc3QiIHR5cGU9ImJ1dHRvbiIgcmVmPSJuZXh0IiBAY2xpY2sgPSJuZXh0Ij5uZXh0PC9idXR0b24+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCgo="},{"version":3,"sources":["/Users/guiseppe/fun/online/tsunamicollege/frontend/src/views/Test.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjF,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3E,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/guiseppe/fun/online/tsunamicollege/frontend/src/views/Test.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"test\">\n    <h1>{{topic}}</h1>\n    <div v-if=\"questionsLoaded\">\n      <Question :content=\"question\" ref=\"question\" @failed=\"failed\" @solved=\"solved\"/>\n    </div>\n    <div class=\"next\">\n      <button class=\"test\" type=\"button\" ref=\"next\" @click =\"next\">next</button>\n    </div>\n  </div>\n\n\n</template>\n\n<script>\nimport Question from '../components/Question.vue'\nimport axios from 'axios'\nexport default {\n  name: 'Test',\n  components: {\n    Question\n  },\n  data(){\n    return {\n      questionsLoaded:false,\n      question:{},\n      data:[],\n      index:1,\n      topic:this.$route.params.id,\n\n      hist:[-1],\n      hakuna:[1],\n\n      diffscale:0.2,//how much does the difference in difficulty get accounted for\n      reward:1,\n      penalty:0.8,\n\n    }\n  },\n  mounted(){\n    console.log('hakuna: ',JSON.stringify(this.hakuna));\n    if (localStorage[this.topic]==null){\n      console.log(\"no data on topic \",this.topic);\n      localStorage[this.topic]=0\n    }else{\n      console.log(localStorage[this.topic])\n    }\n    console.log(\"skill level:\",localStorage[this.topic]);\n    var rating=Math.round(localStorage[this.topic])\n    console.log('hist: ',this.hist);\n    this.getNewQuestion(this.topic,rating,this.hist)\n  },\n  methods:{\n\n    getTopicInfo(topic){\n      var data={\"op\":\"GETINFO\",\"topic\":topic,\"no\":0}\n      axios({method:\"POST\",url:\"/api/getTopicInfo\",data:data,headers:{\"content-type\":\"text/plain\"}}).then(result=>{\n        localStorage[topic+\"Info\"]=JSON.stringify(result.data);\n      })\n    },\n\n    getNewQuestion(topic,rating,history){\n      console.log(history);\n      console.log('sendign history: ',this.hist);\n      var data={'topic':topic,'rating':rating,'history':this.hakuna}\n      console.log('sending data:',data);\n      axios({method:'POST',url:'api/new',data:data,headers:{'content-type':'text/plain'}}).then(result =>{\n        this.question=result.data\n        this.questionsLoaded=true\n        console.log('receved question:',this.question);\n\n      }).catch(error=>{\n        console.log(error);\n      })\n    },\n    solved(){\n      console.log(\"difficulty:\",this.question.rating);\n      this.rating=parseFloat(localStorage[this.topic])\n      console.log(\"start rating:\",this.rating);\n      var difference=this.question.rating-this.rating\n      var change = Math.max(0,this.reward+difference*this.diffscale)\n      this.rating+=change\n      localStorage[this.topic]=this.rating\n      console.log(\"new rating\",this.rating);\n      this.$refs.next.focus()\n\n\n    },\n    failed(){\n      console.log('failed');\n      console.log('difficulty:',this.question.rating);\n      this.rating=parseFloat(localStorage[this.topic])\n      console.log('start rating:',this.rating);\n      var difference=this.question.rating=this.rating\n      var change = Math.max(0,this.penalty+difference*this.diffscale)\n      this.rating-=change\n      localStorage[this.topic]=this.rating\n      console.log('new rating:',this.rating);\n      this.$refs.next.focus()\n\n    },\n    resetSkill(){\n      localStorage[this.topic]=0\n    },\n\n\n    next(){\n      console.log(\"question:\", this.question);\n      console.log(\"id:\",this.question.id);\n      this.hist.push(this.question.id)\n      if (this.hist.length>10){\n        this.hist=this.hist.slice(-10)\n      }\n      console.log(\"history:\",this.hist);\n\n      console.log(\"skill level:\",localStorage[this.topic]);\n      var rating=Math.round(localStorage[this.topic])\n      // var hist = JSON.stringify(this.hist)\n      this.getNewQuestion(this.topic,rating,this.hist)\n      this.$refs.question.start()\n    },\n\n  }\n}\n</script>\n"]}]}